(:- x _ 10)
(write x)

// my-macro: (get-arg 0) + x
// ここでの x は実行時の環境 (100) を参照するはず（プレーンな状態）
(macro-ast my-macro ( \ args 
  (make-apply + (cons x (cons (get-arg 0) nil)))
_ ))

(:- x _ 100)

(write (my-macro 5))
