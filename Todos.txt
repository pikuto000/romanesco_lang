TODOリスト: 現在の証明器の主な課題（優先度順）

[DONE]【最優先】
[DONE]1. 単一化（unify）をバックトラッキング対応にする
   - Option[Subst] → Iterator[Subst] / LazyList[Subst] に変更
   - 複数の単一化候補を生成・試す（特に∃やメタ変数複数時）

[DONE]2. 探索戦略の改善（DFSの限界対策）
   - 幅優先探索（BFS）や iterative deepening を導入
   - visited判定を強化（コンテキストの順序・名前を考慮した比較）

[DONE]3. 失敗時の詳細情報記録・出力
   - None ではなく Either[FailTrace, Proof] のような形に
   - 失敗理由（どの規則・どのunify・どの深さで詰まったか）をトレース

[DONE]4. 仮定名の管理を安定化
   - 名前衝突を防ぐ自動生成ロジック強化（UUID風 or 深さ+パスベース）
   - Tactics適用時の名前依存を減らす（名前ではなくインデックスや参照で指定）

【中優先】
[DONE]5. 規則適用の効率化
   - rules を先頭シンボルでインデックス化（Map[Sym, List[CatRule]] など）
   - 不要な instantiate/unify をスキップ

[DONE]6. 古典論理（RAA）の柔軟性向上
   - raaCount制限を緩和 or 条件付きで複数回許可
   - ¬¬A → A などの古典公理を明示的に追加

[DONE]7. 高階・依存表現の基盤強化
   - Expr に λ抽象 / Pi型（依存関数）を追加検討
   - 高階単一化（higher-order unification）の準備

8. 証明出力・可視化の改善
   - Proof をツリー構造（ProofTree）に変更
   - 自然言語風 / LaTeX / ツリー表示の生成機能追加

【低優先・将来的】
- 並列探索・ヒューリスティック優先度（A*風スコア）
- 部分証明のキャッシュ / メモ化強化
- エラー回復（部分成功時の返却）
- 外部規則ファイルからの動的ロード