現在のTODOリスト（新しく生まれたもの中心・優先度順）

1. コード構造の整理（モジュール化）
- [ ] 共通インターフェースの確立: 各論理拡張が search() の各フェーズ（目標分解、仮定適用）にフックできる構造にする

2. 推論能力とパフォーマンスの強化
- [ ] 投機的並列探索の深化: `SolveTree.Choice` 内の深い分岐も `scala.concurrent.Future` で並列実行可能にする
- [ ] 分離論理の Frame Rule (Cancellation): ヒープ項の共通部分を自動的に相殺し、探索空間を劇的に削減する
- [ ] 永続的な failureCache: co-induction と整合性を取りつつ、イテレーション間で失敗情報を共有して重複探索を防ぐ
- [ ] lemmaのキャッシング: 成功した証明・部分証明をlemmaとしてグローバルにキャッシュして、探索・証明を最適化する。

3. 安全性の強化
- [ ] 循環の検知: 式の変化を記録し、同じパターンが続くようなら循環とみなすことで、ウォッチドッグよりも高速に不可能な証明を打ち切る

4. テストを全てパスする
- 全部成功させる。これは絶対。